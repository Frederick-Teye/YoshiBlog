{% extends '_base.html' %} {% load crispy_forms_tags %} {% load socialaccount %}
{% block title %}Social Connections{% endblock %} {% block content %}
<h2>Social Connections</h2>

{% if form.accounts %}
<form method="post" action="{% url 'socialaccount_connections' %}">
  {% csrf_token %}
  <div class="mb-3">
    {% for base_account in form.accounts %}
    <div class="form-check">
      <input
        class="form-check-input"
        type="radio"
        name="account"
        id="account_{{ forloop.counter }}"
        value="{{ base_account.id }}"
      />
      <label class="form-check-label" for="account_{{ forloop.counter }}">
        {{ base_account.get_provider_account }}
      </label>
    </div>
    {% endfor %}
  </div>
  <button class="btn btn-outline-danger" type="submit">Remove selected</button>
</form>
{% else %}
<p>No social accounts connected.</p>
{% endif %}

<hr />

<h3>Connect a new account</h3>
<div class="d-flex gap-2 flex-wrap">
  <a
    class="btn btn-outline-secondary"
    href="{% provider_login_url 'github' process='connect' %}"
    >Connect GitHub</a
  >
  <a
    class="btn btn-outline-secondary"
    href="{% provider_login_url 'google' process='connect' %}"
    >Connect Google</a
  >
</div>
{% endblock content %}
